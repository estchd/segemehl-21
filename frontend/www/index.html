<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Plotters WebAssembly Demo</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
<noscript>This page contains webassembly and javascript content, please enable javascript in your browser.</noscript>
<script src="./bootstrap.js"></script>
<main>
  <div id="top-div" class="sticky" style="z-index: 1; top: 0; left: 0; right: 0; height: 40px; background: white; opacity: 1; border-bottom: 2px gray inset; display: flex; flex-direction: row;">
    <div style="flex-grow: 1; display: flex; align-items: center">
      <h2 style="margin: auto">Input</h2></div>
    <div style="flex-grow: 1; display: flex; align-items: center">
      <input style="margin: auto" id="file_input" type="file"/>
    </div>
    <div style="flex-grow: 1; display: flex; align-items: center">
      <label style="margin: 0 5px 0 auto" for="chromosome_select">Selected Chromosome: </label>
      <select style="margin: 0 auto 0 0" id="chromosome_select"></select>
    </div>
  </div>
  <div id="main-content" style="position: absolute; top: 0; left: 10px; right: 0; bottom: 0; z-index: 0;">
    <div style="height: 54px"></div>
    <h1>Plotters WebAssembly Demo</h1>
    <div id="output-content">
      <h2>Output</h2>
      <div id="output-numerics">
        <h3>Numerics</h3>

        <h4>Per File Statistics</h4>

        <p>Number of Reads in File: <output id="total-read-number-output"></output></p>
        <p>Total Length of Reads in File: <output id="total-read-length-output"></output></p>
        <p>Shortest Length of a Read in File: <output id="shortest-read-length-output"></output></p>
        <p>Longest Length of a Read in File: <output id="longest-read-length-output"></output></p>
        <p>Median Length of a Read in File: <output id="median-read-length-output"></output></p>
        <p>Mode Length of a Read in File: <output id="mode-read-length-output"></output></p>
        <p>Mean Length of a Read in File: <output id="mean-read-length-output"></output></p>

        <br/>

        <h4>Chromosome Statistics</h4>

        <p>Total Length of Chromosomes: <output id="total-chromosome-length-output"></output></p>
        <p>Median Length of Chromosomes: <output id="median-chromosome-length-output"></output></p>
        <p>Mode Length of Chromosomes: <output id="mode-chromosome-length-output"></output></p>
        <p>Mean Length of Chromosomes: <output id="mean-chromosome-length-output"></output></p>
        <p>Length of Shortest Chromosome: <output id="shortest-chromosome-length-output"></output></p>
        <p>Length of Longest Chromosome: <output id="longest-chromosome-length-output"></output></p>

        <br/>

        <h4>Chromosome Coverage Statistics</h4>

        <p>Median Coverage of Chromosomes: <output id="median-chromosome-coverage-output"></output>%</p>
        <p>Mean Coverage of Chromosomes: <output id="mean-chromosome-coverage-output"></output>%</p>
        <p>Least Coverage of Chromosomes: <output id="least-chromosome-coverage-output"></output>%</p>
        <p>Most Coverage of Chromosomes: <output id="most-chromosome-coverage-output"></output>%</p>

        <br/>

        <h4>Per Chromosome Statistics</h4>

        <p>Median Number of Reads per Chromosome: <output id="median-number-of-reads-per-chromosome-output"></output></p>
        <p>Mode Number of Reads per Chromosome: <output id="mode-number-of-reads-per-chromosome-output"></output></p>
        <p>Mean Number of Reads per Chromosome: <output id="mean-number-of-reads-per-chromosome-output"></output></p>
      </div>
      <br/>
      <div id="output-plots">
        <h3>Plots</h3>
        <div style="display: block; width: 100%">
          <div style="display: inline; margin-left: 100px">
            <h4 style="width: 600px">Test Plot</h4>
            <p>Logarithmic Scale: <input id="test_logarithmic_toggle" type="checkbox"/></p>
            <p>Logarithm Base: <input id="test_logarithmic_base" type="number" step="0.01" value="2" min="1.001"/></p>
            <canvas id="test_canvas" width="1200" height="600"></canvas>
          </div>
          <div style="display: inline">
            <h4 style="width: 600px">Length of Chromosomes</h4>
            <p>Logarithmic Scale: <input id="length_of_chromosomes_logarithmic_toggle" type="checkbox"/></p>
            <p>Logarithm Base: <input id="length_of_chromosomes_logarithmic_base" type="number" step="0.01" value="2" min="1.001"/></p>
            <canvas id="length_of_chromosomes_canvas" width="1200" height="600"></canvas>
          </div>
          <div style="display: inline">
            <h4 style="width: 600px">Covered Length of Chromosomes</h4>
            <p>Logarithmic Scale: <input id="covered_length_of_chromosomes_logarithmic_toggle" type="checkbox"/></p>
            <p>Logarithm Base: <input id="covered_length_of_chromosomes_logarithmic_base" type="number" step="0.01" value="2" min="1.001"/></p>
            <canvas id="covered_length_of_chromosomes_canvas" width="1200" height="600"></canvas>
          </div>
          <div style="display: inline">
            <h4 style="width: 600px">Coverage of Chromosomes</h4>
            <canvas id="coverage_per_chromosome_canvas" width="1200" height="600"></canvas>
          </div>
          <div style="display: inline">
            <h4 style="width: 600px">Coverage per Bin on selected Chromosome</h4>
            <select id="coverage_per_bin_on_selected_chromosome_stat">
              <option value="Total">Total</option>
              <option value="Average">Average</option>
            </select>
            <canvas id="coverage_per_bin_on_selected_chromosome_canvas" width="1200" height="600"></canvas>
          </div>
          <div style="display: inline">
            <p>Logarithmic Scale: <input id="file_quality_frequency_map_logarithmic_toggle" type="checkbox"/></p>
            <p>Logarithm Base: <input id="file_quality_frequency_map_logarithmic_base" type="number" step="0.01" value="2" min="1.001"/></p>
            <h4 style="width: 600px">Quality Frequency Map for Whole File</h4>
            <canvas id="file_quality_frequency_map_canvas" width="1200" height="600"></canvas>
          </div>
          <div style="display: inline">
            <p>Logarithmic Scale: <input id="selected_chromosome_quality_frequency_map_logarithmic_toggle" type="checkbox"/></p>
            <p>Logarithm Base: <input id="selected_chromosome_quality_frequency_map_logarithmic_base" type="number" step="0.01" value="2" min="1.001"/></p>
            <h4 style="width: 600px">Quality Frequency Map for selected Chromosome</h4>
            <canvas id="selected_chromosome_quality_frequency_map_canvas" width="1200" height="600"></canvas>
          </div>
          <div style="display: inline">
            <h4 style="width: 600px">Number of Reads per Chromosome</h4>
            <p>Logarithmic Scale: <input id="reads_per_chromosome_logarithmic_toggle" type="checkbox"/></p>
            <p>Logarithm Base: <input id="reads_per_chromosome_logarithmic_base" type="number" step="0.01" value="2" min="1.001"/></p>
            <canvas id="reads_per_chromosome_canvas" width="1200" height="600"></canvas>
          </div>
          <div style="display: inline">
            <h4 style="width: 600px">Length of a Read per Chromosome</h4>
            <label for="length_of_read_per_chromosome_stat">Calculated Stat: </label>
            <select id="length_of_read_per_chromosome_stat">
              <option value="Mean">Mean</option>
              <option value="Mode">Mode</option>
              <option value="Median">Median</option>
              <option value="Shortest">Shortest</option>
              <option value="Longest">Longest</option>
            </select>
            <p>Logarithmic Scale: <input id="length_of_read_per_chromosome_logarithmic_toggle" type="checkbox"/></p>
            <p>Logarithm Base: <input id="length_of_read_per_chromosome_logarithmic_base" type="number" step="0.01" value="2" min="1.001"/></p>
            <canvas id="length_of_read_per_chromosome_canvas" width="1200" height="600"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="main-overlay" class="overlay-fixed fade-base fade">
    <div id="main-overlay-blur" class="overlay-fixed blur-overlay" style="z-index: 2;"></div>
    <div id="main-overlay-content-outer" class="overlay-fixed" style="display: flex; z-index: 3;">
      <div id="main-overlay-content-inner" class="center" style="width: 400px; height: 200px; background: white;">
        <div class="center-text-wrapper">
          <h1>New Statistics File is being parsed, this may take a minute...</h1>
        </div>
      </div>
    </div>
  </div>
</main>
</body>
</html>